# Web API Endpoints Documentation

## 1. Login/Register

Endpoints for users register and log in.

### Database Schemas

The resources for both user's registration and user's log in

#### Users
| Field    | Data Type        | Metadata                                            |
| -------- | -----------------| --------------------------------------------------- |
| id       | unsigned integer | primary key, auto-increments, generated by database |
| username | string           | required, unique, max 128 characters                |
| password | string           | required                                            |

### Register

#### Endpoint

```sh
POST /api/auth/register
URL: https://build-week-expat-journal-1.herokuapp.com/api/auth/register
```

#### Request

```sh
request object:
{ 
  username: string(128),
  password: string
}
```

#### Response

```sh
success:
statusCode: 201
response object:
{ 
  status: 'success',
  message: `Registered Successfully. Welcome, ${username}.`
}
```
 
```sh
fail:
1.
statusCode: 400
response object:
{ 
  status: 'fail',
  message: 'Invalid input fields.'
}
desc: one or more required key/value of the request object are missing. 
Ex: username field is missing.

2.
statusCode: 400
response object:
{ 
  status: 'fail',
  message: 'The username is no more than 128 characters.'
}
desc: request fail when the username field is more than 128 charaters.
```

```sh
error:
statusCode: 500
response object:
{ 
  status: 'error',
  message: 'Internal Server Error.'
}
desc: all server-side errors that make the request unsuccessfully.
```

### Login

#### Endpoint

```sh
POST /api/auth/login
URL: https://build-week-expat-journal-1.herokuapp.com/api/auth/login
```

#### Request

```sh
request object:
{ 
  username: string(128),
  password: string
}
```

#### Response
 
```sh
success:
statusCode: 200
response object:
{ 
  status: 'success',
  message: `Welcome, ${username}.`,
  token
}
```

```sh
fail:
1.
statusCode: 401
response object:
{ 
  status: 'fail',
  message: 'Invalid username or password.'
}
desc: username or password are incorrect.

2.
statusCode: 400
response object:
{ 
  status: 'fail',
  message: 'Invalid input fields.'
}
desc: one or more required key/value of the request object are missing. 
Ex: username field is missing.
```
 
```sh
error:
statusCode: 500
response object:
{ 
  status: 'error',
  message: 'Internal Server Error.'
}
desc: all server-side errors that make the request unsuccessfully.
```


